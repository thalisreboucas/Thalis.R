<!DOCTYPE HTML>
<html lang="en">
    <head >
        
        <meta charset="UTF-8">
        <title>Blog - Thalis Rebouças</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="robots" content="index, follow"/>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
        
        <!-- CSS Plugins -->
        
        <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,700,900&amp;display=swap"></link>
        
        <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"></link>
        
        <link type="text/css" rel="stylesheet" href="https://thalisreboucas.com.br/plugins/css/github.css"></link>
        
        <link type="text/css" rel="stylesheet" href="https://thalisreboucas.com.br/plugins/css/reset.css"></link>
        
        <link type="text/css" rel="stylesheet" href="https://thalisreboucas.com.br/plugins/css/plugins.css"></link>
        
        <link type="text/css" rel="stylesheet" href="https://thalisreboucas.com.br/plugins/css/style.css"></link>
        
        <link type="text/css" rel="stylesheet" href="https://thalisreboucas.com.br/plugins/css/table.css"></link>
        
        <link type="text/css" rel="stylesheet" href="https://thalisreboucas.com.br/plugins/css/color.css"></link>
        
        
        <link rel="shortcut icon" href="https://thalisreboucas.com.br/images/favicon.ico">
        
        <link rel="stylesheet " href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-HQXYFWMZ3J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HQXYFWMZ3J');
</script>
    </head>
    <body>
        
        <div class="loader-wrap " >
            <div class="pin"></div>
        </div>
        
        
        <div id="main">
            
            <header class="main-header">
                <a class="logo-holder" href="../../../../index.html">
                <img src="https://thalisreboucas.com.br/images/logo.png"  alt="">
                </a>
                
                <div class="nav-button but-hol">
                    <span  class="nos"></span>
                    <span class="ncs"></span>
                    <span class="nbs"></span>
                    <div class="menu-button-text">Menu</div>
                </div>
                
                                <div class="header-social">
                    <ul >
                        <li><a href="https://www.linkedin.com/in/thalisreboucas/" target="_blank"><i class="fab fa-linkedin"></i></a></li>
                        <li><a href="https://www.instagram.com/thalisreboucas/" target="_blank"><i class="fab fa-instagram"></i></a></li>
                        <li><a href="https://twitter.com/ThalisReboucas" target="_blank"><i class="fab fa-twitter"></i></a></li>
                        <li><a href="https://github.com/thalisreboucas" target="_blank"><i class="fab fa-github-alt"></i></a></li>
                    </ul>
                </div>
                <div class="show-share">
                    <i class="fa fa-th"></i>
                </div>
            </header>
            
                        
            <div class="nav-overlay">
                <div class="tooltip color-bg">Fechar</div>
            </div>
            <div class="nav-holder">
                <a class="header-logo" href="index.html"><img src="https://thalisreboucas.com.br/images/logo2.png" alt=""></a> 
                <div class="nav-title"><span>Menu</span></div>
                <div class="nav-inner-wrap">
                    <nav class="nav-inner sound-nav" id="menu">
                        <ul>
                        
                   <li><a href="https://thalisreboucas.com.br/" >Home</a></li>
                       
                   <li><a href="https://thalisreboucas.com.br/#sec2" >Sobre Mim</a></li>
                       
                   <li><a href="https://thalisreboucas.com.br/#sec3" >Resumo</a></li>
                       
                   <li><a href="https://thalisreboucas.com.br/post" >Blog</a></li>
                       
                   <li><a href="https://thalisreboucas.com.br/#sec6" >Contato</a></li>
                       
                        </ul>
                    </nav>
                </div>
            </div>
            
            
            <div id="wrapper" class="single-page-wrap">
                
                <div class="content">
                    <div class="single-page-decor"></div>
                    
                    <div class="single-page-fixed-row blog-single-page-fixed-row">
                        <div class="scroll-down-wrap">
                            <div class="mousey">
                                <div class="scroller"></div>
                            </div>
                            <span>Desça um pouco</span>
                        </div>
                        
                        <div class="blog-filters">
                            <span>Filtrar por: </span>
                            
                            <div class="tag-filter blog-btn-filter">
                                <div class="blog-btn">Tags <i class="fa fa-tags" aria-hidden="true"></i></div>
                                              <ul class="list-unstyled widget-list">
                                              <li><a href="/tags/ggplot">
                                     Ggplot&nbsp;&nbsp;(1)</a></li>
                                              <li><a href="/tags/machine-learning">
                                     Machine learning&nbsp;&nbsp;(4)</a></li>
                                              <li><a href="/tags/python">
                                     Python&nbsp;&nbsp;(1)</a></li>
                                              <li><a href="/tags/r">
                                     R&nbsp;&nbsp;(5)</a></li>
                                              <li><a href="/tags/rmarkdown">
                                     Rmarkdown&nbsp;&nbsp;(1)</a></li>
                                              <li><a href="/tags/shiny">
                                     Shiny&nbsp;&nbsp;(1)</a></li>
                                              <li><a href="/tags/webscraping">
                                     Webscraping&nbsp;&nbsp;(1)</a></li>
                                       </ul>
                            </div>
                            
                            
                            <div class="category-filter blog-btn-filter">
                                <div class="blog-btn">Categorias <i class="fa fa-list-ul" aria-hidden="true"></i></div>
                                <ul class="list-unstyled widget-list">
                                              <li><a href="/categories/python">
                                     Python&nbsp;&nbsp;(1)</a></li>
                                              <li><a href="/categories/r">
                                     R&nbsp;&nbsp;(5)</a></li>
                                </ul>
                            </div>
                            
                            <div class="blog-search">
                                <form action="#" class="searh-inner fl-wrap">
                                    <input name="se" id="se" type="text" class="search" placeholder="Procurar.." value="Procurar..." />
                                    <button class="search-submit color-bg" id="submit_btn"><i class="fa fa-search"></i> </button>
                                </form>
                            </div>
                        </div>
                        
                    </div>
                    
                      
                     
                    <section data-scrollax-parent="true" id="sec1">
                        <div class="section-subtitle left-pos"  data-scrollax="properties: { translateY: '-250px' }" ><span>//</span>Websraping Estados Do Ceará</div>
                        <div class="container">
                            
                            <div class="fl-wrap post-container">
                                <div class="row">
                                    <div class="col-md-8">
                                        
                                        <div class="post fl-wrap fw-post">
                                            <h2><a href=""><span>Websraping Estados Do Ceará</span></a></h2>                                    <div class="parallax-header"> 
                                              <a href="#">
                                              07/02/2022</a>
                                               
                                            <span>Categoria : </span>
                                      <a href="https://thalisreboucas.com.br/categories/r">
                                        R</a>
                                            </div>
                                            
                                            <div class="blog-media fl-wrap nomar-bottom">
                                                <div class="single-slider-wrap slider-carousel-wrap ">
                                                     
                                                    <div class="single-slider cur_carousel-slider-container fl-wrap"  >
                                                        <div class="slick-slide-item"><img src="https://thalisreboucas.com.br/images/portfolio/web_ce.png" alt=""></div>
                                                    
                                                    </div>
                                                    <div class="sp-cont   sp-cont-prev"><i class="fal fa-long-arrow-left"></i></div>
                                                    <div class="sp-cont   sp-cont-next"><i class="fal fa-long-arrow-right"></i></div>
                                                </div>
                                            </div>
                                            
                                            <div class="parallax-header fl-wrap">
                                               
                                              <span>Tags : </span>
                                              
                                              <a href="https://thalisreboucas.com.br/tags/r">
                                                R</a> 
                                                  ,
                                              <a href="https://thalisreboucas.com.br/tags/webscraping">
                                                WebScraping</a> 
                                                  
                                              </div>
                                                
                   <div class="blog-text fl-wrap">
                                                <div class="clearfix"></div>
                                              <H3>
                                                  
<script src="https://thalisreboucas.com.br/2022/02/07/websraping-estados-do-cear%C3%A1/index_files/header-attrs/header-attrs.js"></script>


<p>Para esta aplicação vamos Precisar do Pacote <code>Rvest</code> responsavél por fazer esse trabalho para gente.</p>
<p>Neste caso ele ira fazer uma raspagem do site paseando pelo html e pegando os dados que irimeos dizer para ele capturar.</p>
<p>Utilizaremos também o tidyverse e stringr para ajudar na manipulação de dados.</p>
<p>O site que vamos pegar as informações é o “<a href="https://cep.guiamais.com.br/" class="uri">https://cep.guiamais.com.br/</a>” , que possue os ceps e endereços de todos os estados do Brasil.</p>
<pre class="r"><code>library(rvest , quietly = TRUE)
library(tidyverse , quietly = TRUE)</code></pre>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --</code></pre>
<pre><code>## v ggplot2 3.3.5     v purrr   0.3.4
## v tibble  3.1.6     v dplyr   1.0.7
## v tidyr   1.1.4     v stringr 1.4.0
## v readr   2.1.0     v forcats 0.5.1</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter()         masks stats::filter()
## x readr::guess_encoding() masks rvest::guess_encoding()
## x dplyr::lag()            masks stats::lag()</code></pre>
<pre class="r"><code>library(leaflet , quietly =  TRUE)
library(stringr , quietly = TRUE)</code></pre>
<div id="web-scraping-dos-bairros-fortaleza" class="section level1">
<h1>Web scraping dos bairros Fortaleza</h1>
<p>Para fazer isso utilizaremos o seguinte código :</p>
<pre><code>url_fortal &lt;- paste0(&quot;https://cep.guiamais.com.br/busca/fortaleza-ce?page=NUMBER&quot;)
dados_fortaleza &lt;- data.frame()
for(i in 1:400){
  url &lt;- stringr::str_replace(url_fortal, &quot;NUMBER&quot;, as.character(i))
  print(url)
  lista.tabelas &lt;- xml2::read_html(url) %&gt;% rvest::html_table(header = T)
  tabela &lt;- lista.tabelas[[1]]
  dados_fortaleza &lt;- dplyr::bind_rows(dados_fortaleza, tabela)
}</code></pre>
<p>Neste Caso a gente definimos a <strong>url</strong> que queremos como uma variável e neste caso como a gente vai fazer uma raspagem completa precisaremos fazer um <code>for</code>para pegar todos os dados por todas as páginas e com isso depois fazer nossa base de dados com os dados coletados que são dados já prontos para uso , pois o comando <code>html_table</code> já indifica os dados e coleta de maneira automática e pronta para o uso.</p>
<div id="olhando-para-ver-se-deu-tudo-certo" class="section level2">
<h2>Olhando para ver se deu tudo certo</h2>
<p>Depois de rodar o código vamos verificar se deu certo.Pois demorou um pouco KKK…</p>
<p>e</p>
<p>Depois de 400 PÁGINASSS.</p>
<pre class="r"><code>dados_fortaleza %&gt;% head()</code></pre>
<pre><code>##                                    LOGRADOURO                   BAIRRO
## 1 Rua 01 A do Cidade Jardim Fortaleza Gleba A     Prefeito José Walter
## 2                Rua 01(Lot Lagoa da Libânia)                 Mondubim
## 3                       Rua 01(Lot Urucutuba)                 Siqueira
## 4 Rua 02 A do Cidade Jardim Fortaleza Gleba A     Prefeito José Walter
## 5                       Rua 02(Lot Urucutuba)                 Siqueira
## 6            Rua 02 do Loteamento Dom Vicente Parque Presidente Vargas
##   CIDADE/ESTADO                           CIDADE_ESTADO       CEP
## 1 Fortaleza, CE     Prefeito José Walter, Fortaleza, CE 60748-540
## 2 Fortaleza, CE                 Mondubim, Fortaleza, CE 60767-702
## 3 Fortaleza, CE                 Siqueira, Fortaleza, CE 60544-760
## 4 Fortaleza, CE     Prefeito José Walter, Fortaleza, CE 60748-570
## 5 Fortaleza, CE                 Siqueira, Fortaleza, CE 60544-763
## 6 Fortaleza, CE Parque Presidente Vargas, Fortaleza, CE 60765-537</code></pre>
<p>Deu tudo certo !!! consigos ver os dados que queiriamos coletados e em um data frame.
Vamos ver quantas ruas temos em fortaleza.</p>
<pre class="r"><code>dados_fortaleza %&gt;% dplyr::count(BAIRRO) %&gt;% summarise( Total = sum(n))</code></pre>
<pre><code>##   Total
## 1 10000</code></pre>
<p>E por incrível que pareça temos 10.000 logradouros oficiais.Caso queira colocar em arquivo .csv esse é o código abaixo.</p>
<pre class="r"><code>#write.table(dados_fortaleza, file=&quot;Fortaleza.csv&quot;, sep=&quot;;&quot;)</code></pre>
<p>E caucaia ?</p>
</div>
</div>
<div id="web-scraping-dos-bairros-caucaia" class="section level1">
<h1>Web scraping dos bairros caucaia</h1>
<p>Iremos fazer a mesma coisa só que para caucaia então ,lá vamos nos …</p>
<pre><code>
url_base &lt;- paste0(&quot;https://cep.guiamais.com.br/busca/caucaia-ce?page=NUMBER&quot;)
dados &lt;- data.frame()
for(i in 1:93){
  url &lt;- stringr::str_replace(url_base, &quot;NUMBER&quot;, as.character(i))
  print(url)
  lista.tabelas &lt;- xml2::read_html(url) %&gt;% rvest::html_table(header = T)
  tabela &lt;- lista.tabelas[[1]]
  dados &lt;- dplyr::bind_rows(dados, tabela)
}

dados &lt;- dplyr::rename(dados ,BAIRRO = BAIRRO...2 , CIDADE_ESTADO = BAIRRO...4 )</code></pre>
</div>
<div id="caucaia-tem-quantas-ruas" class="section level1">
<h1>Caucaia tem quantas ruas ?</h1>
<pre class="r"><code>dados %&gt;% dplyr::count(BAIRRO) %&gt;% summarise( Total = sum(n))</code></pre>
<pre><code>##   Total
## 1  2325</code></pre>
<p>Foi bem mais rápido a raspagem e caúcaia tem 2325 ruas oficiais o que nos leva a conclussão que fortaleza tem <em>4 vezes</em> mais ruas que caucaia e que se para se perder é melhor … bem não é bom se perder em nenhum canto.</p>
</div>

                                                  
                                            </div>
                                    <div class="col-lg-12 col-sm-6 col-8">
                                     <script src="https://utteranc.es/client.js"
                                        repo="thalisreboucas/Thalis.R"
                                           issue-term="pathname"
                                            label="Comentário "
                                             theme="github-dark"
                                           crossorigin="anonymous"
                                       async>
                                      </script>
                                    </div>
                                        </div>
                                        
                                    </div>
                                    
                                    <div class="col-md-4">
                                        <div class="blog-sidebar fl-wrap fixed-bar">
                                            
                                            <div class="widget-wrap fl-wrap">
                                                <h4 class="widget-title"><span>01.</span>Sobre mim:</h4>
                                                <div class="widget-container fl-wrap">
                                                    <div class="about-widget fl-wrap">
                                                        <img src="../../../../images/all/2.jpg" alt="">
                                                        <h5><a href="#">Thalis Rebouças</a></h5>
                                                        <div class="clearfix"></div>
                                                        <p>Graduando em Estatística.</p>
                                                        <div class="about-widget-social fl-wrap">
                                                            <span>Caso queira : </span>
 <ul >
                                                                <li><a href="www.github.com/thalisreboucas" target="_blank">Github</a></li>
                                                                <li><a href="www.instagram.com/thalisreboucas" target="_blank">Instagram</a></li>
                                                                <li><a href="www.twitter.com/thalisreboucas" target="_blank">Twitter</a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                               
                                            
                                            <div class="widget-wrap fl-wrap">
                                                <h4 class="widget-title"><span>02.</span>Outras Postagens</h4>
                                                <div class="widget-container fl-wrap">
                                                    <div class="widget-posts fl-wrap">
                                                       
                                                
                                                        <ul>
                                                            <li class="clearfix">
                                                              
                                                                <a href="#"  class="widget-posts-img"><img src="https://thalisreboucas.com.br/images/portfolio/dist.png" class="respimg" alt=""></a>  
                                                                <div class="widget-posts-descr">
                                                                    <a href="https://thalisreboucas.com.br/2021/10/27/distribui%C3%A7%C3%B5es-com-r/" title="">Distribuições com R</a>
                                                                    <span class="widget-posts-date"> 27/10/2021 </span> 
                                                                </div>
                                                            </li>
                                                        </ul>
                                                      
                                                    </div>
                                                </div>
                                            </div>
                                             
                                            
                                            <div class="widget-wrap fl-wrap">
                                                <h4 class="widget-title"><span>03.</span> Tags</h4>
                                                <div class="widget-container fl-wrap">
                                                    <ul class="tagcloud">
                                                         <li><a href="/tags/ggplot">
                                                           Ggplot</a></li>
                                                         <li><a href="/tags/machine-learning">
                                                           Machine learning</a></li>
                                                         <li><a href="/tags/python">
                                                           Python</a></li>
                                                         <li><a href="/tags/r">
                                                           R</a></li>
                                                         <li><a href="/tags/rmarkdown">
                                                           Rmarkdown</a></li>
                                                         <li><a href="/tags/shiny">
                                                           Shiny</a></li>
                                                         <li><a href="/tags/webscraping">
                                                           Webscraping</a></li>
                                                            </ul>
                                                </div>
                                            </div>
                                                                                             
                                            
                                            <div class="widget-wrap fl-wrap">
                                                <h4 class="widget-title"><span>04.</span> Categorias</h4>
                                                <div class="widget-container fl-wrap">
                                                    <ul class="cat-item">
                                                        <li><a href="/categories/python">Python</a> <span>(&nbsp;&nbsp;1)</span></li>
                                                    <ul class="cat-item">
                                                        <li><a href="/categories/r">R</a> <span>(&nbsp;&nbsp;5)</span></li>
                                                    </ul>
                                                </div>
                                            </div>
                                                                                                                </div>
                                    </div>
                                    
                                    <div class="limit-box fl-wrap"></div>
                                </div>
                                
                                <div class="content-nav">
                                    <ul>
                                        <li><a href="../../../../post" class="ln"><i class="fal fa-arrow-left"></i><span class="tooltip">Anterior - Página 1</span></a></li>
                                        <li>
                                            <span class="cur-page"><span>Página 2</span></span>
                                        </li>
                                        <li><a href="post" class="rn"><i class="fal fa-arrow-right"></i><span class="tooltip">Próxima - Página 2 </span></a></li>
                                    </ul>
                                </div>
                                     
                            </div>
                            
                        </div>
                        <div class="bg-parallax-module" data-position-top="50"  data-position-left="20" data-scrollax="properties: { translateY: '-250px' }"></div>
                        <div class="bg-parallax-module" data-position-top="40"  data-position-left="70" data-scrollax="properties: { translateY: '150px' }"></div>
                        <div class="bg-parallax-module" data-position-top="80"  data-position-left="80" data-scrollax="properties: { translateY: '350px' }"></div>
                        <div class="bg-parallax-module" data-position-top="95"  data-position-left="40" data-scrollax="properties: { translateY: '-550px' }"></div>
                        <div class="sec-lines"></div>
                    </section>
                                  
 
                    <section class="dark-bg2 small-padding order-wrap">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-8">
                                    <h3>Alguma dúvida ?</h3>
                                </div>
                                <div class="col-md-4"><a href="../../../../#sec6" class="btn flat-btn color-btn">Entre em contato</a> </div>
                            </div>
                        </div>
                    </section>
                    
                </div>
                
 
                <div class="height-emulator fl-wrap"></div>
                <footer class="main-footer fixed-footer">
                    
                    <div class="footer-inner fl-wrap">
                        <div class="container">
                            <div class="partcile-dec" data-parcount="90"></div>
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="footer-title fl-wrap">
                                        <span>Thalis.R</span>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="footer-header fl-wrap"><span>01.</span>últimos twitters feitos</div>
                                    <div class="footer-box fl-wrap">
                                        <div class="twitter-swiper-container fl-wrap" id="twitts-container"></div>
                                        <a href="https://twitter.com/thalisreboucas" class="btn float-btn trsp-btn">Seguir</a>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="footer-header fl-wrap"><span>02.</span> / Contatos</div>
                                    
                                    <div class="footer-box fl-wrap">
                                        <p>Caso queirar falar comigo é só mandar um email que irei tentar responder o mais rápido possível,mas não garanto nada ;).</p>
                                        <div class="subcribe-form fl-wrap">
                                        </div>
                                        
                                        <div class="footer-contacts fl-wrap">
                                            <ul>
                                                <li><i class="fal fa-envelope"></i><span>Email :</span><a href="#">thalisreboucasdeoliveira@gmail.com</a></li>
                                                <li><i class="fal fa-map-marker"></i><span>Local</span><a href="#">Fortaleza -Ceará</a></li>
                                            </ul>
                                        </div>
                                        
                                        
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class="subfooter fl-wrap">
                        <div class="container">
                            
                            <div class="policy-box">
                                <span>&#169; Thalis Rebouças 2023 / Todos os direitos reservados.<br>
                                Site feito em Hugo com <a href="https://bookdown.org/yihui/blogdown/">Blogdown</a>. </span>
                            </div>
                            
                            <a href="#" class="to-top color-bg"><i class="fal fa-angle-up"></i><span></span></a>
                        </div>
                    </div>
                    
                </footer>
                
                
                <a class="contact-btn color-bg" href="../../../../#sec6"><i class="fal fa-envelope"></i><span>Contactar</span></a>
                
            </div>
            
        </div>
        
                
        <!-- JS Plugins -->
        
        <script src="https://thalisreboucas.com.br/plugins/js/jquery.min.js"></script>
        
        <script src="https://thalisreboucas.com.br/plugins/js/plugins.js"></script>
        
        <script src="https://thalisreboucas.com.br/plugins/js/scripts.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/validate.js/0.13.1/validate.min.js"></script>
        
        <script src="https://thalisreboucas.com.br/plugins/js/highlight.pack.js"></script>
        
        <script src="https://thalisreboucas.com.br/plugins/js/Kommo.js"></script>
        
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>